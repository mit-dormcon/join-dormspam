import{u as _,i as a,j as v,k as g,l,m as i,o as m,q as k,v as x,w as y,x as h,n as b,y as w}from"./runtime.C82Cn4iG.js";import{s as j}from"./index.9oInDI2n.js";function A(e=!1){const s=v,n=s.l.u;if(!n)return;let t=()=>k(s.s);if(e){let u=0,r={};const d=x(()=>{let c=!1;const f=s.s;for(const o in f)f[o]!==r[o]&&(r[o]=f[o],c=!0);return c&&u++,u});t=()=>i(d)}n.b.length&&_(()=>{p(s,t),l(n.b)}),a(()=>{const u=g(()=>n.m.map(m));return()=>{for(const r of u)typeof r=="function"&&r()}}),n.a.length&&a(()=>{p(s,t),l(n.a)})}function p(e,s){if(e.l.s)for(const n of e.l.s)i(n);s()}function B(e,s,n){const t=n[s]??(n[s]={store:null,source:h(void 0),unsubscribe:b});if(t.store!==e)if(t.unsubscribe(),t.store=e??null,e==null)t.source.v=void 0,t.unsubscribe=b;else{var u=!0;t.unsubscribe=j(e,r=>{u?t.source.v=r:w(t.source,r)}),u=!1}return i(t.source)}function C(e,s){return e.set(s),s}function D(){const e={};return y(()=>{for(var s in e)e[s].unsubscribe()}),e}export{B as a,C as b,A as i,D as s};
